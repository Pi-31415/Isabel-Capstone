<!DOCTYPE html>
<html>
  <head>
    <title>Editable Force-Directed Layout</title>
    <script type="text/javascript" src="./d3.v3.min.js"></script>
    <link type="text/css" rel="stylesheet" href="./force.css" />
  </head>
  <body>
    <div id="fabButton">
      <div class="sticky-menu-container">
        <div class="inner-menu closed">
          <ul class="menu-list" style="height: 90px">
            <li class="menu-item">
              <span class="item-icon">
                <svg
                  version="1.1"
                  id="Layer_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  viewBox="0 0 92 92"
                  enable-background="new 0 0 92 92"
                  xml:space="preserve"
                >
                  <path
                    id="XMLID_1160_"
                    d="M46,27c-12.6,0-22.9,10.4-22.9,23.2c0,12.8,10.3,23.2,22.9,23.2s22.9-10.4,22.9-23.2
      C68.9,37.4,58.6,27,46,27z M46,65.5c-8.2,0-14.9-6.8-14.9-15.2S37.8,35,46,35s14.9,6.8,14.9,15.2S54.2,65.5,46,65.5z M57.1,51.2
      c-0.2,1.8-1.7,3-3.5,3c-0.2,0-0.3,0-0.5,0c-1.9-0.3-3.3-2-3-3.9c0.4-2.9-3-4.5-3.2-4.6c-1.7-0.8-2.5-2.9-1.7-4.6
      c0.8-1.7,2.8-2.5,4.6-1.8C53,40.7,58,44.7,57.1,51.2z M49.4,55.6c0.7,0.7,1.2,1.8,1.2,2.8c0,1-0.4,2.1-1.2,2.8
      c-0.8,0.7-1.8,1.2-2.8,1.2s-2.1-0.4-2.8-1.2c-0.7-0.8-1.2-1.8-1.2-2.8c0-1.1,0.4-2.1,1.2-2.8c0.8-0.8,1.8-1.2,2.8-1.2
      S48.7,54.8,49.4,55.6z M88,26H72.6l-4.3-16c-0.5-1.7-2.1-3-3.9-3H27.5c-1.8,0-3.4,1.3-3.9,3l-4.3,16H4c-2.2,0-4,1.7-4,3.9V81
      c0,2.2,1.8,4,4,4h84c2.2,0,4-1.8,4-4V29.9C92,27.7,90.2,26,88,26z M84,77H8V34h14.4c1.8,0,3.4-1.3,3.9-3l4.3-16h30.8l4.3,16
      c0.5,1.7,2.1,3,3.9,3H84V77z"
                  />
                </svg>
              </span>
              <span class="item-text">Add Photo</span>
            </li>
            <li class="menu-item">
              <span class="item-icon">
                <svg
                  version="1.1"
                  id="Layer_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  width="92px"
                  height="92px"
                  viewBox="0 0 92 92"
                  enable-background="new 0 0 92 92"
                  xml:space="preserve"
                >
                  <path
                    id="XMLID_1960_"
                    d="M76,2H16c-2.2,0-4,1.8-4,4v80c0,2.2,1.8,4,4,4h60c2.2,0,4-1.8,4-4V6C80,3.8,78.2,2,76,2z M72,82H20V10h52
      V82z M28.5,65c0-2.2,1.8-4,4-4h27c2.2,0,4,1.8,4,4s-1.8,4-4,4h-27C30.3,69,28.5,67.2,28.5,65z M29.1,46c0-2.2,1.8-4,4-4h26.3
      c2.2,0,4,1.8,4,4s-1.8,4-4,4H33.1C30.9,50,29.1,48.2,29.1,46z M29.1,27c0-2.2,1.8-4,4-4h26.3c2.2,0,4,1.8,4,4s-1.8,4-4,4H33.1
      C30.9,31,29.1,29.2,29.1,27z"
                  />
                </svg>
              </span>
              <span class="item-text">Add Text</span>
            </li>
          </ul>
        </div>
        <div class="outer-button">
          <div class="icon-container">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 92 92"
              enable-background="new 0 0 92 92"
              xml:space="preserve"
              class="close-icon"
            >
              <path
                id="XMLID_732_"
                d="M70.7,64.3c1.8,1.8,1.8,4.6,0,6.4c-0.9,0.9-2,1.3-3.2,1.3c-1.2,0-2.3-0.4-3.2-1.3L46,52.4L27.7,70.7
      c-0.9,0.9-2,1.3-3.2,1.3s-2.3-0.4-3.2-1.3c-1.8-1.8-1.8-4.6,0-6.4L39.6,46L21.3,27.7c-1.8-1.8-1.8-4.6,0-6.4c1.8-1.8,4.6-1.8,6.4,0
      L46,39.6l18.3-18.3c1.8-1.8,4.6-1.8,6.4,0c1.8,1.8,1.8,4.6,0,6.4L52.4,46L70.7,64.3z"
              />
            </svg>
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 92 92"
              enable-background="new 0 0 92 92"
              xml:space="preserve"
              class="arrow-icon"
            >
              <path
                id="XMLID_507_"
                d="M 72.1882 49.4 c 0 1.1362 -0.9287 2.0699 -2.0699 2.0699 H 51.4748 v 18.6436 c 0 1.1362 -0.9337 2.0748 -2.0748 2.0748 s -2.0699 -0.9337 -2.0699 -2.0748 v -18.6436 H 28.6816 c -1.1362 0 -2.0699 -0.9337 -2.0699 -2.0699 s 0.9337 -2.0699 2.0699 -2.0699 h 18.6485 V 28.6816 c 0 -1.1362 0.9337 -2.0699 2.0699 -2.0699 s 2.0748 0.9337 2.0748 2.0699 v 18.6485 h 18.6436 C 71.2595 47.3301 72.1882 48.2638 72.1882 49.4 M 88.7669 49.4 c 0 21.7409 -17.621 39.3669 -39.3669 39.3669 c -21.7459 0 -39.3669 -17.621 -39.3669 -39.3669 c 0 -21.7459 17.621 -39.3669 39.3669 -39.3669 C 71.1409 10.0331 88.7669 27.6541 88.7669 49.4 M 84.6222 49.4 c 0 -19.4241 -15.7981 -35.2222 -35.2222 -35.2222 S 14.1778 29.9759 14.1778 49.4 c 0 19.429 15.7981 35.2222 35.2222 35.2222 S 84.6222 68.829 84.6222 49.4"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
    <div id="chart"></div>
    <script type="text/javascript" src="./force.js"></script>
    <script type="text/javascript">
      //For Floating Action Button
      console.clear();
      // var element = document.getElementById("slide-menu");
      // element.addEventListener("animationstart", listener, false);
      // element.addEventListener("animationend", listener, false);
      // element.addEventListener("animationiteration", listener, false);

      // function listener(event){
      //   console.log(event.elapsedTime)
      // }

      var isAnimating = false;
      var isOpen = false;
      var button = document.querySelector(
        ".sticky-menu-container .outer-button"
      );
      var menu = document.querySelector(".sticky-menu-container .inner-menu");
      var closeIcon = document.querySelector(
        ".sticky-menu-container .outer-button .close-icon"
      );
      var arrowIcon = document.querySelector(
        ".sticky-menu-container .outer-button .arrow-icon"
      );
      var menuItems = document.querySelectorAll(
        ".sticky-menu-container .inner-menu > .menu-list > .menu-item"
      );

      var itemTexts = document.querySelectorAll(
        ".sticky-menu-container .inner-menu > .menu-list > .menu-item > .item-text"
      );

      button.addEventListener("click", function () {
        if (isAnimating) return;
        this.classList.add("clicked");
        menu.classList.toggle("closed");

        if (isOpen) {
          closeIcon.classList.remove("show");
          closeIcon.classList.add("hide");
          arrowIcon.classList.remove("hide");
          arrowIcon.classList.add("show");
          menuItems.forEach(function (item) {
            console.log(item);
            item.classList.add("text-hides");
          });
          itemTexts.forEach(function (text, index) {
            setTimeout(function () {
              text.classList.remove("text-in");
            });
          });
          isOpen = false;
        } else {
          closeIcon.classList.remove("hide");
          closeIcon.classList.add("show");
          arrowIcon.classList.remove("show");
          arrowIcon.classList.add("hide");
          menuItems.forEach(function (item) {
            console.log(item);
            item.classList.remove("text-hides");
          });
          itemTexts.forEach(function (text, index) {
            setTimeout(function () {
              text.classList.add("text-in");
            }, index * 150);
          });
          isOpen = true;
        }
      });

      button.addEventListener("animationstart", function (event) {
        isAnimating = true;
      });

      button.addEventListener("animationend", function (event) {
        isAnimating = false;
        this.classList.remove("clicked");
      });
    </script>
  </body>
</html>
